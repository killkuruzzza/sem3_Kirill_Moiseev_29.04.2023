# Основы работы с системами контроля версий и GitHub

## Что такое Git?

**Git** -- **система управления версиями** _(version control system, VCS)_, созданная программистом Линусом Торвальдсом для управления разработкой ядра Linux в 2005 году.

 Устроено это так:

* ваша папка на компьютере - это не просто папка, а **локальный репозиторий**
* она является копией **удаленного репозитория**, который лежит на веб-хостинге (например, GitHub)
* если вы работаете над проектом с коллегами, то своя локальная копия есть у каждого
* когда вы внесли некоторое количество изменений, вы можете их сохранить, и это дествие запишется в журнал; это называется **commit**
* после этого можно отправить изменения в удаленный репозиторий; это называется **push**
* актуальная версия проекта, учитывающая последние изменения всех участников, будет храниться в удаленном репозитории
* если вы увидели, что ваши коллеги запушили в удаленный репозиторий что-то новенькое, то можно (и нужно!) скопировать это себе на компьютер; это называется **pull**
* позволяют работать над проектом в команде;
* вы видите, кем и когда были внесены те или иные изменения;
* их всегда можно откатить назад;
* вы не потеряете проделанную работу, даже если что-то удалите на своем компьютере;
* ваши наработки полностью открыты для других (а это доступность знаний и ускорение развития технологий, ура!);
* GitHub позволяет не только хранить и просматривать файлы проекта, но и публиковать веб-сайты, документацию и т.п.

### Установка и настройка Git

Существует много систем управления версиями, но мы будем пользоваться самой распространенной -- **git**. Скачать ее можно [отсюда](https://gitforwindows.org).

#### Windows

Надо нажать на Windows  прямо под большой надписью Downloads (тут же можно выбрать MacOs X и Linux, если это понадобилось, а способ ниже не помог). Еесли любите называть/писать на русском языке, то поставьте галочку возле TrueType fonts (это внизу списка).

Далее будет окно выбора текстового редактора:

* Notepad++ -- возможно, придется установить самостоятельно, но он простой и удобный;
* Nano - консольный текстовый редактор, проще vim, там подписаны действия (^? - это одновременное нажатие клавиш Сtrl и ?);
* Vim – сложный, но предалагается по умолчанию (а на mac os x и linux выбрать иное не дают).

После установки git необходимо его настроить, это делается с помощью двух команд:

`git config --global user.name "ваш логин на github"`

`git config --global user.email "почту, которую указали при регистрации на GitHub.com"`

#### MacOs X и Linux

* Если у вас MacOs, то напишите в терминал команду git, и система начнет сама ее устанавливать.
* Если y вас Linux и git не был установлен с системой, то можно его установить с помощью пакетного менеджера:
`sudo apt-get install git (для Ubuntu и Debian)`

#### GUI

Но это еще не всё. Нам нужно как-то отдавать гиту команды, и делать это можно двумя способами: с помощью **командной строки** и через **графический интерфейс** _(graphical user interface, GUI)_. Графический интерфейс программы - это все те окошки с кнопочками, которые мы привыкли видеть. Существует много графических интерфейсов для гита, например:

* [Git GUI](https://git-scm.com/docs/git-gui)
* [GitHub Desktop](https://desktop.github.com/)
* [Git Extensions](https://gitextensions.github.io/)

### GitHub

Каждому понадобится аккаунт на этом веб-хостинге. Чтобы зарегистрироваться, идём [сюда](https://github.com/), выбираем любое имя пользователя и пароль, и готово! Почту при регистрации можно указывать любую. Теперь у вас есть собственная страничка: [https://github.com/Nimmo89](https://github.com/Nimmo89)

После регистрации вы попадете на приветственную страницу, где сначала нужно, ничего не меняя, нажать зеленую кнопку **Continue**, а потом -- **Skip this step** (но если не лень, можно заполнить опросник и нажать **Submit**.

### Создаем репозиторий

Чтобы создать репозиторий, нажимаем кнопку **Start a project** и выбираем название. Оно может быть любым, но должно отражать суть того, что лежит внутри, например, "homeworks". Впрочем, гитхаб предлагает более креативные варианты. :) Также в специальном поле можно добавить описание.

Наш репозиторий должен быть публичным; также важно поставить галочку рядом с **Initialize this repository with a README** -- за этой фразой скрывается команда **init**, которая превращает пустую папку в git-проект. После этого можно смело жать кнопку **Create repository**. Вы увидите список файлов в своем репозитории (пока это только автоматически сгенерированный файл README с описанием проекта) и содержание README, если он есть. Ссылка на репозиторий будет выглядеть так: [https://github.com/Nimmo89/Git](https://github.com/Nimmo89/Git)

### Порядок работы с GitHub

1. Создаем репозиторий на GitHub, как описано выше
2. На своем компьютере открываем терминал (cmd на Windows, terminal на OS X, можно найти через поиск) и переходим в ту папку, в которую хотим склонировать репозиторий. Переход выполняется с помощью команды `cd path`, где path -- путь к папке, куда будем клонировать репозиторий
3. Затем набираем в терминале `git clone link.git`, где link.git -- это ссылка на ваш репозиторий. Можно скопировать ее на главной странице репозитория (зеленая кнопка "Clone or download")
4. Теперь можно проверить, что в папке, в которую переходили в п.2, появилась новая папка, которая назвается так же, как и репозиторий на гитхабе. Это локальный репозиторий.
5. После того, как вы сделали в локальном репозитории какие-то изменения, их нужно отправить на GitHub. Сначала переходим в терминале в репозиторий с помощью команды `cd`
6. Дальше добавляем изменения: `git add filename`, где filename -- это имя файла, который нужно добавить, или `git add *`, если нужно добавить все изменения. Изменения -- это не только создание нового файла, но и редактирование уже имеющихся, а также удаление и переименование.
7. Теперь записываем изменения в журнал: `git commit -m "Commit message"`. Сообщение должно коротко и понятно описывать изменения, которые вы вносите -- это поможет вам и вашим коллегам разобраться, что и на каком этапе произошло с проектом. Поверьте, адекватные описания коммитов -- это очень важно!
Сообщение писать обязательно! Если вдруг забудете, то попадете в страшное место Vim, из которого очень сложно выбраться! Если вдруг попали -- процедура спасения описана в файле _cmd_cheatsheet_ :)
8. И, наконец, отправляем это все в удаленный репозиторий, то есть на GitHub: `git push`. После этого нужно будет ввести имя пользователя и пароль от гитхаба. Когда вы вводите пароль, он не отображается -- так и должно быть!
9. Важно: перед тем, как пушить какие-то изменения в удаленный репозиторий, нужно сначала проверить, не появилось ли там чего-то новенького, что вы еще не успели скопировать себе на компьютер (соавторы проекта внесли изменения, вы сами что-то сделали на сайте и т.д.), иначе возникнет конфликт версий -- это не то чтобы сложно исправить, но пока вам лишних проблем не нужно. Изменения из удаленного репозитория в локальный переносятся командой `git pull`.
10. После того, как сделали `git pull`, можно спокойно выполнять пункты 6-8.

## Markdown

**Markdown** -- это упрощенный язык разметки, который преобразует (почти) обычный текст в html-страницу. Создан в 2004 году Джоном Грубером и Аароном Шварцем, затем был дополнен и адаптирован для различных приложений.

Markdown-файлы имеют расширение .md или .markdown

Ниже в серых блоках содержится то, как выглядит текст на стадии разметки, сразу после блока находится результат.

### 1. Форматирование в Markdown

Заголовки в Markdown выделяются решетками \#:

\#              заголовок 1 уровня  
\##            заголовок 2 уровня  
...  
\######    заголовок 6 уровня

Чтобы выделить текст курсивом, нужно поставить в начале и в конце фрагмента текста * или _ (не отделяя пробелом):

```
*звезды* или _нижние подчеркивания_
```

_звезды_ или _нижние подчеркивания_

Чтобы сделать текст жирным, нужно поставить в начале и в конце фрагмента текста \** или \__ (не отделяя пробелом):

```
**две звезды** или __два нижних подчеркивания__

```

**две звезды** или **два нижних подчеркивания**

Чтобы перечеркнуть текст, используйте ~~ в начале и в конце (не отделяя пробелом):

```
~~две тильды~~

```

~~две тильды~~

#### Списки

Нумерованные списки задаются так (уровни можно задать отступами):

```
1. первый элемент
2. второй элемент
3. третий элемент
4. четвертый элемент
1. пятый элемент

```

1. первый элемент
2. второй элемент
3. третий элемент
4. четвертый элемент
5. пятый элемент

Маркированные списки задаются с помощью дефисов, астерисков или плюсов (уровни можно задать отступами):

```
+ первый элемент
- второй элемент
+ третий элемент
  - четвертый элемент
  * пятый элемент
```

* первый элемент
* второй элемент
* третий элемент
  * четвертый элемент
  * пятый элемент

#### 2. Объекты

##### Ссылки

Ссылки и адреса электронной почты можно вставить без всего или в угловых скобках:

```
<https://www.markdownguide.org>  
https://www.markdownguide.org  

<eee@mail.ru>  
eee@mail.ru
```

[https://www.markdownguide.org](https://www.markdownguide.org)  
[https://www.markdownguide.org](https://www.markdownguide.org)

[eee@mail.ru](mailto:eee@mail.ru)  
eee@mail.ru

Если нужно сделать гиперссылку, то она оформляется так:

```
[текст](https://www.markdownguide.org)
```

[текст](https://www.markdownguide.org)

Можно добавить всплывающий при наведении комментарий:

```
[текст](https://www.markdownguide.org "это поможет")
```

[текст](https://www.markdownguide.org "это поможет")

##### Картинки

Чтобы вставить картинку, нужно написать следующую строку (без пробелов):

![](ссылка на картинку)

Например:

```
![](https://github.com/Nimmo89/Git/blob/master/002.jpg)
```

##### Таблицы

Строки в таблице разделяются переходом на новую строку, столбцы вертикальной чертой (|)  
Между заголовком и телом таблицы вставляется строка с --- в каждой ячейке. Выравнивание задается положением двоеточия:

```
1|2|3
---|:---:|---:
да|нет|не знаю
не знаю|нет|да
нет|не знаю|да
нет|да|не знаю
да|не знаю|нет
не знаю|да|нет
```

| 1 | 2 | 3 |
| :--- | :---: | ---: |
| да | нет | не знаю |
| не знаю | нет | да |
| нет | не знаю | да |
| нет | да | не знаю |
| да | не знаю | нет |
| не знаю | да | нет |

#### 3. Где можно использовать Markdown?

* GitHub
* Telegram
* Tumblr
* Языки программирования

#### 4. Полезные (и не очень) ссылки

[Наиболее полное руководство](https://www.markdownguide.org)  
[Help от гитхаба](https://help.github.com/categories/writing-on-github/)  
[Фичи для продвинутых от гитхаба](https://guides.github.com/features/mastering-markdown/)  
[Вдохновляющий набор расширений и приложений, где используется Markdown](https://github.com/mundimark/awesome-markdown) (там есть, в том числе, про то, как делать презентации и документы, а также писать красивые письма)  

![Картинко](002.jpg)

## Работа с удалёнными репозиториями

Для того, чтобы внести вклад в какой-либо Git-проект, вам необходимо уметь работать с удалёнными репозиториями. Удалённые репозитории представляют собой версии вашего проекта, сохранённые в интернете или ещё где-то в сети. У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения или для чтения-записи. Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них. Управление репозиториями включает в себя как умение добавлять новые, так и умение удалять устаревшие репозитории, а также умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет и так далее. В данном разделе мы рассмотрим некоторые из этих навыков.

### 1. Просмотр удалённых репозиториев

Для того, чтобы просмотреть список настроенных удалённых репозиториев, вы можете запустить команду `git remote`. Она выведет названия доступных удалённых репозиториев. Если вы клонировали репозиторий, то увидите как минимум `origin` — имя по умолчанию, которое Git даёт серверу, с которого производилось клонирование:
```
$ git clone https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023
Cloning into 'ticgit'...
remote: Reusing existing pack: 1857, done.
remote: Total 1857 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.
Resolving deltas: 100% (772/772), done.
Checking connectivity... done.
$ cd ticgit
$ git remote
origin
```

Вы можете также указать ключ `-v`, чтобы просмотреть адреса для чтения и записи, привязанные к репозиторию:
```
$ git remote -v
DZ_3 https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023 (fetch)
DZ_3 https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023 (push)
```

Если у вас больше одного удалённого репозитория, команда выведет их все. Например, для репозитория с несколькими настроенными удалёнными репозиториями в случае совместной работы нескольких пользователей, вывод команды может выглядеть примерно так:
```
$ cd grit
$ git remote -v
bakkdoor  https://github.com/bakkdoor/grit (fetch)
bakkdoor  https://github.com/bakkdoor/grit (push)
cho45     https://github.com/cho45/grit (fetch)
cho45     https://github.com/cho45/grit (push)
defunkt   https://github.com/defunkt/grit (fetch)
defunkt   https://github.com/defunkt/grit (push)
koke      git://github.com/koke/grit.git (fetch)
koke      git://github.com/koke/grit.git (push)
origin    git@github.com:mojombo/grit.git (fetch)
origin    git@github.com:mojombo/grit.git (push)
```

Это означает, что мы можем легко получить изменения от любого из этих пользователей. Возможно, что некоторые из репозиториев доступны для записи и в них можно отправлять свои изменения, хотя вывод команды не даёт никакой информации о правах доступа.

### 2. Добавление удалённых репозиториев

В предыдущих разделах мы уже упоминали и приводили примеры добавления удалённых репозиториев, сейчас рассмотрим эту операцию подробнее. Для того, чтобы добавить удалённый репозиторий и присвоить ему имя (shortname), просто выполните команду `git remote add <shortname> <url>`:
```
$ git remote
origin
$ git remote add pb https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023
$ git remote -v
DZ_3 https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023 (fetch)
DZ_3 https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023 (push)
origin https://github.com/Nimmo89/Git.git (fetch)
origin https://github.com/Nimmo89/Git.git (push)
```

Теперь вместо указания полного пути вы можете использовать `DZ_3`. Например, если вы хотите получить изменения, которые есть у другого пользователя, но нету у вас, вы можете выполнить команду `git fetch DZ_3`:
```
$ git fetch DZ_3
remote: Counting objects: 43, done.
remote: Compressing objects: 100% (36/36), done.
remote: Total 43 (delta 10), reused 31 (delta 5)
Unpacking objects: 100% (43/43), done.
From https://github.com/killkuruzzza/sem3_Kirill_Moiseev_29.04.2023
 * [new branch]      master     -> DZ_3/master
 * [new branch]      origin     -> DZ_3/origin
 ```

Ветка master из репозитория сейчас доступна вам под именем DZ_3/master. Вы можете слить её с одной из ваших веток или переключить на неё локальную ветку, чтобы просмотреть содержимое ветки.

### 3. Получение изменений из удалённого репозитория — Fetch и Pull

Как вы только что узнали, для получения данных из удалённых проектов, следует выполнить:
```
$ git fetch [remote-name]
```

Данная команда связывается с указанным удалённым проектом и забирает все те данные проекта, которых у вас ещё нет. После того как вы выполнили команду, у вас должны появиться ссылки на все ветки из этого удалённого проекта, которые вы можете просмотреть или слить в любой момент.

Когда вы клонируете репозиторий, команда `clone` автоматически добавляет этот удалённый репозиторий под именем «origin». Таким образом, `git fetch origin` извлекает все наработки, отправленные на этот сервер после того, как вы его клонировали (или получили изменения с помощью fetch). Важно отметить, что команда `git fetch` забирает данные в ваш локальный репозиторий, но не сливает их с какими-либо вашими наработками и не модифицирует то, над чем вы работаете в данный момент. Вам необходимо вручную слить эти данные с вашими, когда вы будете готовы.

Если ветка настроена на отслеживание удалённой ветки, то вы можете использовать команду `git pull` чтобы автоматически получить изменения из удалённой ветки и слить их со своей текущей. Этот способ может для вас оказаться более простым или более удобным. К тому же, по умолчанию команда `git clone` автоматически настраивает вашу локальную ветку `master` на отслеживание удалённой ветки `master` на сервере, с которого вы клонировали репозиторий. Название веток может быть другим и зависит от ветки по умолчанию на сервере. Выполнение `git pull`, как правило, извлекает (fetch) данные с сервера, с которого вы изначально клонировали, и автоматически пытается слить (merge) их с кодом, над которым вы в данный момент работаете.

### 4. Отправка изменений в удалённый репозиторий (Push)

Когда вы хотите поделиться своими наработками, вам необходимо отправить их в удалённый репозиторий. Команда для этого действия простая: `git push <remote-name> <branch-name>`. Чтобы отправить вашу ветку `master` на сервер `origin` (повторимся, что клонирование обычно настраивает оба этих имени автоматически), вы можете выполнить следующую команду для отправки ваших коммитов:
```
$ git push origin master
```

Эта команда срабатывает только в случае, если вы клонировали с сервера, на котором у вас есть права на запись, и если никто другой с тех пор не выполнял команду `push`. Если вы и кто-то ещё одновременно клонируете, затем он выполняет команду `push`, а после него выполнить команду `push` попытаетесь вы, то ваш `push` точно будет отклонён. Вам придётся сначала получить изменения и объединить их с вашими и только после этого вам будет позволено выполнить `push`.

### 5. Просмотр удалённого репозитория

Если хотите получить побольше информации об одном из удалённых репозиториев, вы можете использовать команду `git remote show <remote>`. Выполнив эту команду с некоторым именем, например, `origin`, вы получите следующий результат:
```
$ git remote show origin
* remote origin
  Fetch URL: https://github.com/Nimmo89/Git.git
  Push  URL: https://github.com/Nimmo89/Git.git
  HEAD branch: master
  Remote branches:
    Conflict_branch_v2 tracked
    conflict_branch    tracked
    four_branch        tracked
    master             tracked
    one_branch         tracked
    three_branch       tracked
    two_branch         tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)
```

Она выдаёт URL удалённого репозитория, а также информацию об отслеживаемых ветках. Эта команда любезно сообщает вам, что если вы, находясь на ветке `master`, выполните `git pull`, ветка `master` с удалённого сервера будет автоматически влита в вашу сразу после получения всех необходимых данных. Она также выдаёт список всех полученных ею ссылок.

Это был пример для простой ситуации и вы наверняка встречались с чем-то подобным. Однако, если вы используете Git более интенсивно, вы можете увидеть гораздо большее количество информации от `git remote show`:
```
$ git remote show origin
* remote origin
  Fetch URL: https://github.com/Nimmo89/Git.git
  Push  URL: https://github.com/Nimmo89/Git.git
  HEAD branch: master
  Remote branches:
    Conflict_branch_v2 tracked
    conflict_branch    tracked
    four_branch        tracked
    master             tracked
    one_branch         tracked
    three_branch       tracked
    two_branch         tracked
  Local branches configured for 'git pull':
    four_branch  merges with remote four_branch
    master       merges with remote master
    one_branch   merges with remote one_branch
    three_branch merges with remote three_branch
    two_branch   merges with remote two_branch
  Local refs configured for 'git push':
    four_branch  pushes to four_branch  (up to date)
    master       pushes to master       (up to date)
    one_branch   pushes to one_branch   (up to date)
    three_branch pushes to three_branch (up to date)
    two_branch   pushes to two_branch   (up to date)
```

Данная команда показывает какая именно локальная ветка будет отправлена на удалённый сервер по умолчанию при выполнении `git push`. Она также показывает, каких веток с удалённого сервера у вас ещё нет, какие ветки всё ещё есть у вас, но уже удалены на сервере, и для нескольких веток показано, какие удалённые ветки будут в них влиты при выполнении `git pull`.

### 6. Удаление и переименование удалённых репозиториев

Для переименования удалённого репозитория можно выполнить `git remote rename`. Например, если вы хотите переименовать `DZ_3` в `DZ`, вы можете это сделать при помощи `git remote rename`:
```
$ git remote rename DZ_3 DZ
$ git remote
origin
DZ
```

Стоит упомянуть, что это также изменит имена удалённых веток в вашем репозитории. То, к чему вы обращались как `DZ_3/master`, теперь стало `DZ/master`.

Если по какой-то причине вы хотите удалить удалённый репозиторий — вы сменили сервер или больше не используете определённое зеркало, или кто-то перестал вносить изменения — вы можете использовать `git remote rm`:
```
$ git remote remove DZ
$ git remote
origin
```

При удалении ссылки на удалённый репозиторий все отслеживаемые ветки и настройки, связанные с этим репозиторием, так же будут удалены.